From 3aeeaf31b7a7f888f54e47826e8ec0ddbe65c4bf Mon Sep 17 00:00:00 2001
From: File <noreply+automated@papermc.io>
Date: Sun, 20 Apr 1997 14:37:42 +0100
Subject: [PATCH] paper File Patches


diff --git a/net/minecraft/util/datafix/DataFixers.java b/net/minecraft/util/datafix/DataFixers.java
index 29756776c6f1de1c6b5bccc50adee2085f5aa9c6..fa6d56877567c76fc14f1b94ede87cd108b78c44 100644
--- a/net/minecraft/util/datafix/DataFixers.java
+++ b/net/minecraft/util/datafix/DataFixers.java
@@ -505,6 +505,18 @@ public class DataFixers {
         Schema schema44 = builder.addSchema(1456, SAME_NAMESPACED);
         builder.addFixer(new EntityItemFrameDirectionFix(schema44, false));
         Schema schema45 = builder.addSchema(1458, SAME_NAMESPACED);
+        // CraftBukkit start
+        builder.addFixer(new com.mojang.datafixers.DataFix(schema45, false) {
+            @Override
+            protected com.mojang.datafixers.TypeRewriteRule makeRule() {
+                return this.fixTypeEverywhereTyped("Player CustomName", this.getInputSchema().getType(References.PLAYER), (typed) -> {
+                    return typed.update(DSL.remainderFinder(), (dynamic) -> {
+                        return EntityCustomNameToComponentFix.fixTagCustomName(dynamic);
+                    });
+                });
+            }
+        });
+        // CraftBukkit end
         builder.addFixer(new EntityCustomNameToComponentFix(schema45, false));
         builder.addFixer(new ItemCustomNameToComponentFix(schema45, false));
         builder.addFixer(new BlockEntityCustomNameToComponentFix(schema45, false));
