From 3aeeaf31b7a7f888f54e47826e8ec0ddbe65c4bf Mon Sep 17 00:00:00 2001
From: File <noreply+automated@papermc.io>
Date: Sun, 20 Apr 1997 14:37:42 +0100
Subject: [PATCH] paper File Patches


diff --git a/net/minecraft/util/datafix/fixes/ItemStackTheFlatteningFix.java b/net/minecraft/util/datafix/fixes/ItemStackTheFlatteningFix.java
index fc23727ccce397cf327b57218937854a0eb65762..3bb97c8f8882f89054841737ff0e5183257a5ed9 100644
--- a/net/minecraft/util/datafix/fixes/ItemStackTheFlatteningFix.java
+++ b/net/minecraft/util/datafix/fixes/ItemStackTheFlatteningFix.java
@@ -423,7 +423,7 @@ public class ItemStackTheFlatteningFix extends DataFix {
                 if (DAMAGE_IDS.contains(optional.get().getSecond())) {
                     Typed<?> typed2 = typed.getOrCreateTyped(opticFinder1);
                     Dynamic<?> dynamic1 = typed2.get(DSL.remainderFinder());
-                    dynamic1 = dynamic1.set("Damage", dynamic1.createInt(_int));
+                    if (_int != 0) dynamic1 = dynamic1.set("Damage", dynamic1.createInt(_int)); // CraftBukkit
                     typed1 = typed1.set(opticFinder1, typed2.set(DSL.remainderFinder(), dynamic1));
                 }
 
