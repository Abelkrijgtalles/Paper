--- a/net/minecraft/world/entity/projectile/Arrow.java
+++ b/net/minecraft/world/entity/projectile/Arrow.java
@@ -114,8 +_,30 @@
         super.doPostHurtEffects(living);
         Entity effectSource = this.getEffectSource();
         PotionContents potionContents = this.getPotionContents();
+<<<<<<< ours
         float potionDurationScale = this.getPotionDurationScale();
         potionContents.forEachEffect(mobEffectInstance -> living.addEffect(mobEffectInstance, effectSource), potionDurationScale);
+=======
+        if (potionContents.potion().isPresent()) {
+            for (MobEffectInstance mobEffectInstance : potionContents.potion().get().value().getEffects()) {
+                living.addEffect(
+                    new MobEffectInstance(
+                        mobEffectInstance.getEffect(),
+                        Math.max(mobEffectInstance.mapDuration(i -> i / 8), 1),
+                        mobEffectInstance.getAmplifier(),
+                        mobEffectInstance.isAmbient(),
+                        mobEffectInstance.isVisible()
+                    ),
+                    effectSource
+                    , org.bukkit.event.entity.EntityPotionEffectEvent.Cause.ARROW // CraftBukkit
+                );
+            }
+        }
+
+        for (MobEffectInstance mobEffectInstance : potionContents.customEffects()) {
+            living.addEffect(mobEffectInstance, effectSource, org.bukkit.event.entity.EntityPotionEffectEvent.Cause.ARROW); // CraftBukkit
+        }
+>>>>>>> theirs
     }
 
     @Override
