From 3aeeaf31b7a7f888f54e47826e8ec0ddbe65c4bf Mon Sep 17 00:00:00 2001
From: File <noreply+automated@papermc.io>
Date: Sun, 20 Apr 1997 14:37:42 +0100
Subject: [PATCH] paper File Patches


diff --git a/net/minecraft/world/item/SpawnEggItem.java b/net/minecraft/world/item/SpawnEggItem.java
index 03fd87db5019c4f8310561d0029e0c9d7e4218e3..bdb7bfd5212f066517587877a331485afc898cbf 100644
--- a/net/minecraft/world/item/SpawnEggItem.java
+++ b/net/minecraft/world/item/SpawnEggItem.java
@@ -55,6 +55,7 @@ public class SpawnEggItem extends Item {
             Direction clickedFace = context.getClickedFace();
             BlockState blockState = level.getBlockState(clickedPos);
             if (level.getBlockEntity(clickedPos) instanceof Spawner spawner) {
+                if (level.paperConfig().entities.spawning.disableMobSpawnerSpawnEggTransformation) return InteractionResult.FAIL; // Paper - Allow disabling mob spawner spawn egg transformation
                 EntityType<?> type = this.getType(level.registryAccess(), itemInHand);
                 spawner.setEntityId(type, level.getRandom());
                 level.sendBlockUpdated(clickedPos, blockState, blockState, 3);
@@ -169,7 +170,7 @@ public class SpawnEggItem extends Item {
                     return Optional.empty();
                 } else {
                     breedOffspring.moveTo(pos.x(), pos.y(), pos.z(), 0.0F, 0.0F);
-                    serverLevel.addFreshEntityWithPassengers(breedOffspring);
+                    serverLevel.addFreshEntityWithPassengers(breedOffspring, org.bukkit.event.entity.CreatureSpawnEvent.SpawnReason.SPAWNER_EGG); // CraftBukkit
                     breedOffspring.setCustomName(stack.get(DataComponents.CUSTOM_NAME));
                     stack.consume(1, player);
                     return Optional.of(breedOffspring);
