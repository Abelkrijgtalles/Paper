From 3aeeaf31b7a7f888f54e47826e8ec0ddbe65c4bf Mon Sep 17 00:00:00 2001
From: File <noreply+automated@papermc.io>
Date: Sun, 20 Apr 1997 14:37:42 +0100
Subject: [PATCH] paper File Patches


diff --git a/net/minecraft/world/item/consume_effects/ApplyStatusEffectsConsumeEffect.java b/net/minecraft/world/item/consume_effects/ApplyStatusEffectsConsumeEffect.java
index 1012363aab694b57f29101932047c4eeaedab68b..f28cd050f4f539fc5e21362295cac4e4d262f92f 100644
--- a/net/minecraft/world/item/consume_effects/ApplyStatusEffectsConsumeEffect.java
+++ b/net/minecraft/world/item/consume_effects/ApplyStatusEffectsConsumeEffect.java
@@ -46,14 +46,14 @@ public record ApplyStatusEffectsConsumeEffect(List<MobEffectInstance> effects, f
     }
 
     @Override
-    public boolean apply(Level level, ItemStack stack, LivingEntity entity) {
+    public boolean apply(Level level, ItemStack stack, LivingEntity entity, org.bukkit.event.entity.EntityPotionEffectEvent.Cause cause) { // CraftBukkit
         if (entity.getRandom().nextFloat() >= this.probability) {
             return false;
         } else {
             boolean flag = false;
 
             for (MobEffectInstance mobEffectInstance : this.effects) {
-                if (entity.addEffect(new MobEffectInstance(mobEffectInstance))) {
+                if (entity.addEffect(new MobEffectInstance(mobEffectInstance), cause)) { // CraftBukkit
                     flag = true;
                 }
             }
