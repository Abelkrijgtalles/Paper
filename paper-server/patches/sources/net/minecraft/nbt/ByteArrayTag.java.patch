From 6a0255d07a09045c7b0d3db3fa88ccfd06092226 Mon Sep 17 00:00:00 2001
From: File <noreply+automated@papermc.io>
Date: Sun, 20 Apr 1997 14:37:42 +0100
Subject: [PATCH] paper File Patches


diff --git a/net/minecraft/nbt/ByteArrayTag.java b/net/minecraft/nbt/ByteArrayTag.java
index d3be26a57841e2e39e5fefde4b2695e2c693e992..6fbb131b472a3093b137d8ced9889777a133bd5b 100644
--- a/net/minecraft/nbt/ByteArrayTag.java
+++ b/net/minecraft/nbt/ByteArrayTag.java
@@ -23,6 +23,7 @@ public final class ByteArrayTag implements CollectionTag {
         private static byte[] readAccounted(DataInput input, NbtAccounter accounter) throws IOException {
             accounter.accountBytes(24L);
             int _int = input.readInt();
+            com.google.common.base.Preconditions.checkArgument(_int < 1 << 24); // Spigot
             accounter.accountBytes(1L, _int);
             byte[] bytes = new byte[_int];
             input.readFully(bytes);
